// VSplitpanes.sass - Vuetify-styled splitpanes with VSCode-like hover/drag thickness
@use 'sass:map'
@use 'vuetify/settings'

// Base splitpanes styles
.splitpanes
  display: flex
  width: 100%
  height: 100%

.splitpanes--vertical
  flex-direction: row

.splitpanes--horizontal
  flex-direction: column

.splitpanes__pane
  width: 100%
  height: 100%
  overflow: hidden

.splitpanes--vertical .splitpanes__pane
  transition: width 0.25s cubic-bezier(0.4, 0, 0.2, 1)

.splitpanes--horizontal .splitpanes__pane
  transition: height 0.25s cubic-bezier(0.4, 0, 0.2, 1)

.splitpanes--dragging .splitpanes__pane
  transition: none

// Direction-specific cursors
.splitpanes--vertical > .splitpanes__splitter
  min-width: 1px
  cursor: col-resize
  position: relative

.splitpanes--horizontal > .splitpanes__splitter
  min-height: 1px
  cursor: row-resize
  position: relative

// Vuetify theme styles for panes
.splitpanes.v-splitpanes .splitpanes__pane
  background-color: rgb(var(--v-theme-surface))

// Base splitter style
.splitpanes.v-splitpanes .splitpanes__splitter
  box-sizing: border-box
  flex-shrink: 0
  background-color: transparent
  transition: none

// Visible line using :before
.splitpanes.v-splitpanes .splitpanes__splitter:before
  content: ''
  position: absolute
  top: 0
  left: 0
  width: 1px
  height: 100%
  background-color: rgba(var(--v-border-color), var(--v-border-opacity))
  transition: all 0.15s ease
  z-index: 1

// Hover or dragging - vertical
.splitpanes.v-splitpanes .splitpanes__splitter:hover:before,
.splitpanes.v-splitpanes.splitpanes--dragging .splitpanes__splitter:before
  width: 4px
  left: -1.5px
  background-color: rgb(var(--v-theme-primary))

// Hit area for vertical splitter
.v-splitpanes.splitpanes--vertical > .splitpanes__splitter:after
  content: ''
  position: absolute
  top: 0
  bottom: 0
  left: -4px
  right: -4px
  cursor: col-resize
  z-index: 0
  background-color: transparent

// Horizontal splitter
.v-splitpanes.splitpanes--horizontal > .splitpanes__splitter:before
  width: 100%
  height: 1px
  top: 0
  left: 0

// Hover or dragging - horizontal
.v-splitpanes.splitpanes--horizontal > .splitpanes__splitter:hover:before,
.v-splitpanes.splitpanes--horizontal.splitpanes--dragging > .splitpanes__splitter:before
  height: 4px
  top: -1.5px
  background-color: rgb(var(--v-theme-primary))

// Hit area for horizontal splitter
.v-splitpanes.splitpanes--horizontal > .splitpanes__splitter:after
  content: ''
  position: absolute
  top: -4px
  bottom: -4px
  left: 0
  right: 0
  cursor: row-resize
  z-index: 0
  background-color: transparent

// First splitter
.splitpanes.v-splitpanes .splitpanes__splitter:first-child
  cursor: auto

// Dragging state for pointer events
.v-splitpanes .splitpanes--dragging
  -webkit-user-select: none
  user-select: none
  pointer-events: none

.v-splitpanes.splitpanes .splitpanes .splitpanes__splitter
  z-index: 1

// RTL support
.splitpanes[dir="rtl"]
  &.splitpanes--vertical
    flex-direction: row-reverse
    & > .splitpanes__splitter
      border-left: none
      border-right: 1px solid rgba(var(--v-border-color), var(--v-border-opacity))

// Accessibility
.splitpanes__splitter:focus-visible
  outline: 2px solid rgb(var(--v-theme-primary))
  outline-offset: -2px

// High contrast support
@media (prefers-contrast: high)
  .splitpanes.v-splitpanes .splitpanes__splitter
    opacity: 1 !important
    background-color: rgba(var(--v-border-color), 0.87) !important

// Reduced motion support
@media (prefers-reduced-motion: reduce)
  .splitpanes--vertical .splitpanes__pane,
  .splitpanes--horizontal .splitpanes__pane
    transition: none
  .splitpanes.v-splitpanes .splitpanes__splitter:before
    transition: none
