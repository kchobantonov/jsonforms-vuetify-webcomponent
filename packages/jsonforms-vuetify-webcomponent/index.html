<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="/favicon.ico" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900"
    />
    <title>Vuetify JsonForms WebComponent</title>
  </head>
  <body>
    <div id="app"></div>
    <!-- <script type="module" src="./dist/vuetify-json-forms.js"></script> -->
    <script type="module" src="./src/web-component.ts"></script>
    <vuetify-json-forms> </vuetify-json-forms>

    <script type="module">
      import { examples } from './src/examples/index.js';

      const example = examples[0];
      const input = example.input;

      const form = document.querySelector('vuetify-json-forms');

      // Pass props directly as JS properties
      if (input) {
        if (input.data) form.data = input.data;
        if (input.schema) form.schema = input.schema;
        if (input.uischema) form.uischema = input.uischema;
        if (input.uischemas) form.uischemas = input.uischemas;
        if (input.config) form.config = input.config;
        if (input.style) form.customStyle = input.style;
        if (input.i18n) form.translations = input.i18n;
        if (input.uidata) form.uidata = input.uidata;
        if (input.preset) form.vuetifyOptions = input.preset;

        if (input.actions?.onChange) {
          form.addEventListener('change', input.actions.onChange);
        }
        if (input.actions?.onHandleAction) {
          form.addEventListener('handle-action', input.actions.onHandleAction);
        }
      }

      // Append the component to the DOM
      document.getElementById('app').appendChild(form);
    </script>
  </body>
</html>
