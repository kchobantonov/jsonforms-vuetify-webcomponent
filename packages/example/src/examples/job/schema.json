{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Job Application",
  "description": "A schema for a job application form capturing personal details, job preferences, experience, and other necessary information.",
  "type": "object",
  "properties": {
    "applicant": {
      "type": "object",
      "title": "Applicant Information",
      "description": "Details about the applicant, including personal and contact information.",
      "properties": {
        "firstName": {
          "type": "string",
          "title": "First Name",
          "description": "Applicant's first name.",
          "maxLength": 50
        },
        "lastName": {
          "type": "string",
          "title": "Last Name",
          "description": "Applicant's last name.",
          "maxLength": 50
        },
        "age": {
          "type": "integer",
          "title": "Age",
          "description": "Applicant's age, must be 18 or older.",
          "minimum": 18
        },
        "email": {
          "type": "string",
          "format": "email",
          "title": "Email Address",
          "description": "Applicant's email address for communication."
        },
        "phoneNumber": {
          "type": "string",
          "title": "Phone Number",
          "description": "Applicant's phone number, formatted as a 10-digit number or with a country code.",
          "pattern": "^(\\+\\d{1,3}[- ]?)?\\d{10}$"
        },
        "address": {
          "type": "object",
          "title": "Address",
          "description": "Applicant's home address.",
          "properties": {
            "street": {
              "type": "string",
              "title": "Street",
              "description": "Street address, including apartment or unit number if applicable."
            },
            "city": {
              "type": "string",
              "title": "City",
              "description": "City of residence."
            },
            "state": {
              "type": "string",
              "title": "State",
              "description": "State of residence."
            },
            "zipCode": {
              "type": "string",
              "title": "ZIP Code",
              "description": "ZIP or postal code, in 5-digit or ZIP+4 format.",
              "pattern": "^\\d{5}(-\\d{4})?$"
            }
          },
          "required": ["street", "city", "state", "zipCode"]
        }
      },
      "required": ["firstName", "lastName", "age", "email"]
    },
    "jobDetails": {
      "type": "object",
      "title": "Job Information",
      "description": "Details about the job the applicant is applying for.",
      "properties": {
        "position": {
          "type": "string",
          "title": "Position Applied For",
          "description": "The title or role the applicant is applying for."
        },
        "salaryExpectation": {
          "type": "number",
          "title": "Salary Expectation (USD)",
          "description": "The expected annual salary in USD, within the range of $30,000 to $200,000.",
          "minimum": 30000,
          "maximum": 200000
        },
        "availableStartDate": {
          "type": "string",
          "format": "date",
          "title": "Available Start Date",
          "description": "The date on which the applicant is available to start work."
        },
        "availableStartTime": {
          "type": "string",
          "format": "time",
          "title": "Preferred Start Time",
          "description": "The preferred time of day for the applicant to start work."
        },
        "availableStartDateTime": {
          "type": "string",
          "format": "date-time",
          "title": "Start Date and Time (Optional)",
          "description": "If applicable, the exact date and time the applicant is available to start work."
        }
      },
      "required": ["position", "salaryExpectation", "availableStartDate"]
    },
    "skills": {
      "type": "array",
      "title": "Skills",
      "description": "A list of skills or areas of expertise that the applicant possesses.",
      "items": {
        "type": "string",
        "description": "Individual skill name."
      },
      "minItems": 1,
      "uniqueItems": true
    },
    "experience": {
      "type": "array",
      "title": "Previous Job Experience",
      "description": "Details of the applicant's previous job experience.",
      "items": {
        "type": "object",
        "properties": {
          "companyName": {
            "type": "string",
            "title": "Company Name",
            "description": "Name of the company where the applicant previously worked."
          },
          "role": {
            "type": "string",
            "title": "Role/Position",
            "description": "The role or position held by the applicant."
          },
          "years": {
            "type": "integer",
            "title": "Years of Experience",
            "description": "Number of years of experience in this role.",
            "minimum": 1
          },
          "description": {
            "type": "string",
            "title": "Job Description",
            "description": "Brief description of the applicant's responsibilities and achievements.",
            "maxLength": 1000
          }
        },
        "required": ["companyName", "role", "years"]
      }
    },
    "preferences": {
      "type": "object",
      "title": "Job Preferences",
      "description": "Preferences regarding the job location, work type, and more.",
      "properties": {
        "remoteWork": {
          "type": "boolean",
          "title": "Open to Remote Work",
          "description": "Indicates if the applicant is open to working remotely."
        },
        "relocation": {
          "type": "boolean",
          "title": "Willing to Relocate",
          "description": "Indicates if the applicant is willing to relocate for the job."
        },
        "workType": {
          "type": "string",
          "enum": ["Full-time", "Part-time", "Contract"],
          "title": "Preferred Work Type",
          "description": "The type of work the applicant prefers."
        }
      },
      "required": ["workType"]
    },
    "agreements": {
      "type": "object",
      "title": "Agreements",
      "description": "Applicant agreements and consent options.",
      "properties": {
        "termsAccepted": {
          "type": "boolean",
          "title": "I accept the terms and conditions",
          "description": "Mandatory field for the applicant to accept the terms and conditions.",
          "const": true
        },
        "subscribeNewsletter": {
          "type": "boolean",
          "title": "Subscribe to company newsletter",
          "description": "Optional field for subscribing to company newsletters."
        }
      },
      "required": ["termsAccepted"]
    },
    "resume": {
      "type": "string",
      "title": "Resume",
      "contentMediaType": "application/pdf",
      "contentEncoding": "base64",
      "description": "Upload the resume as a PDF file, encoded in base64."
    },
    "portfolioLinks": {
      "type": "array",
      "title": "Portfolio Links",
      "description": "A list of URLs linking to the applicant's portfolio or project websites.",
      "items": {
        "type": "string",
        "format": "uri",
        "description": "A URL to an online portfolio or project."
      },
      "minItems": 0,
      "uniqueItems": true
    }
  },
  "required": ["applicant", "jobDetails", "skills", "experience", "agreements"]
}
